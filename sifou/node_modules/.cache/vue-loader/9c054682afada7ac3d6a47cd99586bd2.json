{"remainingRequest":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\丫丫\\web\\CODE\\blog\\sifou\\src\\pages\\user\\views\\BlogList.vue?vue&type=style&index=0&id=27902d5a&scoped=true&lang=css&","dependencies":[{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\src\\pages\\user\\views\\BlogList.vue","mtime":1610952782488},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5lbC1wYWdlLWhlYWRlcnsKICBtYXJnaW46MTBweAp9Ci5lbC1wYWdpbmF0aW9uewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7Cn0KLmJveC1jYXJkewogIHdpZHRoOjUwJTsKICBtYXJnaW4tYm90dG9tOjEwcHgKfQo="},{"version":3,"sources":["BlogList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BlogList.vue","sourceRoot":"src/pages/user/views","sourcesContent":["<template>\r\n  <div>\r\n    <el-page-header @back='goBack'></el-page-header>\r\n    <div style=\"display: flex;flex-wrap: wrap;justify-content: center;\">\r\n      <el-card class=\"box-card\" v-for='(articleData, index) in blogList' :key='index'>\r\n        <div slot=\"header\" class=\"clearfix\"  @click='goArticleDetail(articleData.blogId)'>\r\n          <span>{{articleData.title}}</span>\r\n        </div>\r\n        <el-row>\r\n          <el-col :span=\"24\">\r\n            <el-image :src='articleData.cover' style=\"height:200px\" fit='contain'>\r\n              <div slot=\"placeholder\" class=\"image-slot\">\r\n                加载中<span class=\"'dot\">...</span>\r\n              </div>\r\n              <div slot=\"error\" class=\"image-slot\">\r\n                <i class=\"el-icon-picture-outline\"></i>\r\n              </div>\r\n            </el-image>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"24\">\r\n            <p>{{articleData.description}}</p>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span='2'>\r\n            <el-avatar :src='articleData.author.avatar'></el-avatar>\r\n          </el-col>\r\n          <el-col :span='4'>\r\n            <P>{{articleData.author.userName}}</P>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <p>{{articleData.lastModified | transformTime}}</p>\r\n          </el-col>\r\n          <el-col :span=\"8\"></el-col>\r\n          <el-col :span='4' style=\"float:right; display:flex;justify-content: space-evenly;\">\r\n            <p class=\"el-icon-star-on el-icon\">{{articleData.likes}}</p>\r\n            <p class=\"el-icon-view el-icon\">{{articleData.views}}</p>\r\n            <p class=\"el-icon-s-comment el-icon\">{{articleData.comments.length}}</p>\r\n          </el-col>\r\n        </el-row>\r\n      </el-card>\r\n    </div>\r\n    <el-pagination\r\n      layout='total, prev, pager, next'\r\n      :total='total'\r\n      :current-page.sync='searchParams.pageNum'\r\n      :page-size.sync='searchParams.limit'\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n    >\r\n  </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import BlogService from '@/service/BlogService'\r\n  export default {\r\n    name: \"BlogList\",\r\n    data(){\r\n     return {\r\n      searchParams:{\r\n        limit:10,\r\n        pageNum:1,\r\n        searchKey:''\r\n      },\r\n      total:0,\r\n      blogList:[]\r\n     }\r\n    },\r\n    mounted(){\r\n      this.searchParams.searchKey = this.$route.params.searchKey\r\n      this.getPublicBlog()\r\n    },\r\n    filters:{\r\n      transformTime(time){\r\n        let blogCreateTime = new Date(time)\r\n        let currentTime = new Date()\r\n        let offsetTime = currentTime - blogCreateTime\r\n        let offsetST = offsetTime / 1000\r\n        let offsetMT = offsetST / 60\r\n        let offsetHT = offsetMT / 60\r\n        let offsetDT = offsetHT / 24\r\n        if(offsetDT >= 365){\r\n          return `发表于 ${Math.floor(offsetDT / 365)} 年之前`\r\n        }else if(offsetDT >= 30){\r\n          return `发表于 ${Math.floor(offsetDT / 30)} 个月之前`\r\n        }else if(offsetDT >= 7){\r\n          return `发表于 ${Math.floor(offsetDT / 7)} 周之前`\r\n        }else if(offsetDT >= 1){\r\n          return `发表于 ${Math.floor(offsetDT)} 天之前`\r\n        }else if(offsetHT >= 1){\r\n          return `发表于 ${Math.floor(offsetHT)} 小时之前`\r\n        }\r\n        else if(offsetMT >= 1){\r\n          return `发表于 ${Math.floor(offsetMT)} 分钟之前`\r\n        }\r\n        else if(offsetST >= 1){\r\n          return `发表于 ${Math.floor(offsetST)} 秒钟之前`\r\n        }\r\n      }\r\n    },\r\n    methods:{\r\n      goBack(){\r\n        this.$router.go(-1)\r\n      },\r\n      getPublicBlog(){\r\n        BlogService.getPublicBlog(this.searchParams).then(res => {\r\n          this.blogList = res.data.data.blogList\r\n          this.total = res.data.data.total\r\n        })\r\n      },\r\n      goArticleDetail(blogId){\r\n        console.log(111)\r\n        this.$router.push(`/articleDetail/${blogId}`)\r\n      },\r\n      handleSizeChange(val){\r\n        this.searchParams.limit = val\r\n        this.getPublicBlog()\r\n      },\r\n      handleCurrentChange(val){\r\n        this.searchParams.pageNum = val\r\n        this.getPublicBlog()\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .el-page-header{\r\n    margin:10px\r\n  }\r\n  .el-pagination{\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n  .box-card{\r\n    width:50%;\r\n    margin-bottom:10px\r\n  }\r\n</style>"]}]}