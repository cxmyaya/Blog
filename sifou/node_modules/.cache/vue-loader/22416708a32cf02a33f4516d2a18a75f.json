{"remainingRequest":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\丫丫\\web\\CODE\\blog\\sifou\\src\\components\\Global-Editor.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\src\\components\\Global-Editor.vue","mtime":1608449898349},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkZWZhdWx0Q29uZmlnIGZyb20gJ0AvY29uZmlnL2NvbmZpZy5kZWZhdWx0JwppbXBvcnQgRWRpdG9yIGZyb20gJ3dhbmdlZGl0b3InCmltcG9ydCBobGpzIGZyb20gJ2hpZ2hsaWdodC5qcycKaW1wb3J0IEltZ0ZpbGVTZXJ2aWNlIGZyb20gJ0Avc2VydmljZS9JbWdGaWxlU2VydmljZScKaW1wb3J0IGJsb2dTZXJ2aWNlIGZyb20gJ0Avc2VydmljZS9CbG9nU2VydmljZScKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJHbG9iYWxFZGl0b3IiLAogIGRhdGEoKXsKICAgIHJldHVybiB7CiAgICAgIGRlZmF1bHRDb25maWcsCiAgICAgIEVkaXRvciwKICAgICAgaGxqcywKICAgICAgdGFnVmFsdWU6JycsCiAgICAgIGlucHV0VmlzaWJsZTpmYWxzZSwKICAgICAgZWRpdG9yOm51bGwsCiAgICAgIGlzUHVibGlzaGluZzpmYWxzZSwKICAgICAgYmxvZ0RhdGE6ewogICAgICAgIGNvdmVyOm51bGwsIC8v5bCB6Z2i5Zu+54mH5Zyw5Z2ACiAgICAgICAgdGl0bGU6JycsCiAgICAgICAgZGVzY3JpcHRpb246JycsCiAgICAgICAgdGFnczpbXSwKICAgICAgICBjb250ZW50OicnCiAgICAgIH0sCiAgICAgIHJ1bGVzOnsKICAgICAgICB0aXRsZTp7cmVxdWlyZWQ6dHJ1ZSwgbWVzc2FnZTon6K+36L6T5YWl5paH56ug5qCH6aKYJywgdHJpZ2dlcjonYmx1cid9LAogICAgICAgIGRlc2NyaXB0aW9uOntyZXF1aXJlZDp0cnVlLCBtZXNzYWdlOifor7fovpPlhaXmlofnq6DnroDku4snLCB0cmlnZ2VyOidibHVyJ30KICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZCgpewogICB0aGlzLmluaXRFZGl0b3IoKQogIH0sCiAgbWV0aG9kczp7CiAgICBwdWJsaXNoKCl7CiAgICAgIHRoaXMuJHJlZnMuYmxvZ0Zvcm0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmKHZhbGlkKXsKICAgICAgICAgIHRoaXMuYmxvZ0RhdGEuY29udGVudCA9IHRoaXMuZWRpdG9yLnR4dC5odG1sKCkKICAgICAgICAgIGlmKCF0aGlzLmJsb2dEYXRhLmNvbnRlbnQpewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+aWh+eroOWGheWuueS4jeiDveS4uuepuicpCiAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgdGhpcy5pc1B1Ymxpc2hpbmcgPSB0cnVlCiAgICAgICAgICAgIGJsb2dTZXJ2aWNlLmNyZWF0ZUJsb2codGhpcy5ibG9nRGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgIGlmKHJlcy5kYXRhLnN0YXR1cyA9PT0gMjAwKXsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMuZGF0YS5tZXNzYWdlKQogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgncHVibGlzaFN1Y2Nlc3MnKQogICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tZXNzYWdlKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuZmluYWxseSgoKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5pc1B1Ymxpc2hpbmcgPSBmYWxzZQogICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBoYW5kbGVBdmF0YXJTdWNjZXNzKHJlcyl7CiAgICAgIHRoaXMuYmxvZ0RhdGEuY292ZXIgPSByZXMuZGF0YS5pbWdMaXN0WzBdCiAgICB9LAogICAgaGFuZGxlQ2xvc2UodGFnKXsKICAgICAgdGhpcy5ibG9nRGF0YS50YWdzLnNwbGljZSh0aGlzLmJsb2dEYXRhLnRhZ3MuaW5kZXhPZih0YWcsMSkpCiAgICB9LAogICAgaGFuZGxlSW5wdXRDb25maXJtKCl7CiAgICAgIGlmKHRoaXMudGFnVmFsdWUpewogICAgICAgIHRoaXMuYmxvZ0RhdGEudGFncy5wdXNoKHRoaXMudGFnVmFsdWUpCiAgICAgIH0KICAgICAgdGhpcy5pbnB1dFZpc2libGUgPSBmYWxzZQogICAgICB0aGlzLnRhZ1ZhbHVlID0gJycKICAgIH0sCiAgICBzaG93SW5wdXQoKXsKICAgICAgdGhpcy5pbnB1dFZpc2libGUgPSB0cnVlCiAgICAgIHRoaXMuJG5leHRUaWNrKCAoKSA9PiB7CiAgICAgICAgdGhpcy4kcmVmcy5zYXZlVGFnSW5wdXQuJHJlZnMuaW5wdXQuZm9jdXMoKQogICAgICB9KQogICAgfSwKICAgIGluaXRFZGl0b3IoKXsKICAgICAgdGhpcy5lZGl0b3IgPSBuZXcgRWRpdG9yKHRoaXMuJHJlZnMuZWRpdG9yKSAvL+WIneWni+WMlue8lui+keWZqAogICAgICB0aGlzLmVkaXRvci5oaWdobGlnaHQgPSBobGpzIC8v5a6e546w5Luj56CB57yW6L6R5Zmo6YeM55qE5Luj56CB6auY5LquCiAgICAKICAgICAgLy/lip/og73oj5zljZXphY3nva4KICAgICAgdGhpcy5lZGl0b3IuY29uZmlnLm1lbnVzID0gWwogICAgICAgICdoZWFkJywKICAgICAgICAnYm9sZCcsCiAgICAgICAgJ2ZvbnRTaXplJywKICAgICAgICAnZm9udE5hbWUnLAogICAgICAgICdpdGFsaWMnLAogICAgICAgICd1bmRlcmxpbmUnLAogICAgICAgICdzdHJpa2VUaHJvdWdoJywKICAgICAgICAnaW5kZW50JywKICAgICAgICAnbGluZUhlaWdodCcsCiAgICAgICAgJ2ZvcmVDb2xvcicsCiAgICAgICAgJ2JhY2tDb2xvcicsCiAgICAgICAgJ2xpbmsnLAogICAgICAgICdsaXN0JywKICAgICAgICAnanVzdGlmeScsCiAgICAgICAgJ3F1b3RlJywKICAgICAgICAnZW1vdGljb24nLAogICAgICAgICdpbWFnZScsCiAgICAgICAgJ3ZpZGVvJywKICAgICAgICAndGFibGUnLAogICAgICAgICdjb2RlJywKICAgICAgICAnc3BsaXRMaW5lJywKICAgICAgICAndW5kbycsCiAgICAgICAgJ3JlZG8nLAogICAgXQoKICAgICAgLy/nvJbovpHlmajln7rmnKzlsLrlr7jjgIHogZrnhKbjgIHljaDkvY3nrKbnmoTnm7jlhbPphY3nva4KICAgICAgdGhpcy5lZGl0b3IuY29uZmlnLmhlaWdodCA9IDQwMAogICAgICB0aGlzLmVkaXRvci5jb25maWcucGxhY2Vob2xkZXIgPSAn6K+36L6T5YWl5paH56ug5YaF5a65JwogICAgCgogICAgICAvL+Wtl+S9k+minOiJsuOAgeiDjOaZr+iJsueahOmihOiuvuWAvAogICAgICB0aGlzLmVkaXRvci5jb25maWcuY29sb3JzLnB1c2goJyM1OGEnLCd5ZWxsb3cnKQoKICAgICAgLy/lrZfkvZPnp43nsbsKICAgICAgLy8gdGhpcy5lZGl0b3IuY29uZmlnLmZvbnROYW1lcyA9IFsn6buR5L2TJ10KCiAgICAgIC8v5a2X5Y+36aKE6K6+5YC8CiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy5mb250U2l6ZXMgPSB7CiAgICAgICAgJ3gtc21hbGwnOiB7IG5hbWU6ICcxMHB4JywgdmFsdWU6ICcxJyB9LAogICAgICAgICdzbWFsbCc6IHsgbmFtZTogJzEzcHgnLCB2YWx1ZTogJzInIH0sCiAgICAgICAgJ25vcm1hbCc6IHsgbmFtZTogJzE2cHgnLCB2YWx1ZTogJzMnIH0sCiAgICAgICAgJ2xhcmdlJzogeyBuYW1lOiAnMThweCcsIHZhbHVlOiAnNCcgfSwKICAgICAgICAneC1sYXJnZSc6IHsgbmFtZTogJzI0cHgnLCB2YWx1ZTogJzUnIH0sCiAgICAgICAgJ3h4LWxhcmdlJzogeyBuYW1lOiAnMzJweCcsIHZhbHVlOiAnNicgfSwKICAgICAgICAneHh4LWxhcmdlJzogeyBuYW1lOiAnNDhweCcsIHZhbHVlOiAnNycgfSwKICAgICAgfQoKICAgICAgLy/ooYzpq5jphY3nva4KICAgICAgLy8gdGhpcy5lZGl0b3IuY29uZmlnLmxpbmVIZWlnaHRzID0gWycxJywnMS4yNSddCgogICAgICAvL+ihqOaDheWMhQogICAgICB0aGlzLmVkaXRvci5jb25maWcuZW1vdGlvbnMgPSBbCiAgICAgICAgewogICAgICAgICAgdGl0bGU6J+aUtuiXjycsCiAgICAgICAgICB0eXBlOidpbWFnZScsCiAgICAgICAgICBjb250ZW50OlsKICAgICAgICAgICAgewogICAgICAgICAgICAgIGFsdDonW+WYv+WYv10nLAogICAgICAgICAgICAgIHNyYzonaHR0cHM6Ly90aW1nc2EuYmFpZHUuY29tL3RpbWc/aW1hZ2UmcXVhbGl0eT04MCZzaXplPWI5OTk5XzEwMDAwJnNlYz0xNjA4Mzc5MzQ1NjA5JmRpPTEzMGQzODczYWI0YmZiZDkzM2NlNDg0NjcyY2QzOTc4JmltZ3R5cGU9MCZzcmM9aHR0cCUzQSUyRiUyRnd3My5zaW5haW1nLmNuJTJGbGFyZ2UlMkY5MTUwZTRlNWp3MWZjNmNnYWo2YW1qMjAzNDA1a3EydS5qcGcnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBhbHQ6J1vlppnllYpdJywKICAgICAgICAgICAgICBzcmM6J2h0dHBzOi8vc3MxLmJkc3RhdGljLmNvbS83MGNGdlhTaF9RMVlueEdrcG9XSzFIRjZoaHkvaXQvdT0xMDY3MTUwOTQxLDMwMDA2NTEwJmZtPTI2JmdwPTAuanBnJwogICAgICAgICAgICB9CiAgICAgICAgICBdCiAgICAgICAgfQogICAgICBdCgogICAgICAvL+aUr+aMgeeahOe8lui+keivreiogAogICAgICAvLyB0aGlzLmVkaXRvci5jb25maWcubGFuZ3VhZ2VUeXBlID0gW10KCiAgICAgIC8v5piv5ZCm5pSv5oyB5YWo5bGPCiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy5zaG93RnVsbFNjcmVlbiA9IHRydWUKCiAgICAgIC8v6Ieq5a6a5LmJ55qE5o+S5YWl6ZO+5o6l55qE5YaF5a655qCh6aqMCiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy5saW5rQ2hlY2sgPSBmdW5jdGlvbih0ZXh0LGxpbmspewogICAgICAgIGNvbnNvbGUubG9nKHRleHQsbGluaykKICAgICAgICAvL+agoemqjOinhOWImQogICAgICAgIHJldHVybiB0cnVlCiAgICAgIH0KCiAgICAgIC8v5o+S5YWl572R57uc5Zu+54mH55qE5YaF5a655qCh6aqMCiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy5saW5rSW1nQ2FsbGJhY2sgPSBmdW5jdGlvbihpbWdTcmMpewogICAgICAgIGNvbnNvbGUubG9nKGltZ1NyYykKICAgICAgICAvL+agoemqjOinhOWImQogICAgICAgIHJldHVybiB0cnVlCiAgICAgIH0KCiAgICAgIC8v5o+S5YWl5pys5Zyw5Zu+54mH55qE5qCh6aqMCiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy5saW5rSW1nQ2hlY2sgPSBmdW5jdGlvbihpbWdTcmMpewogICAgICAgIGNvbnNvbGUubG9nKGltZ1NyYykKICAgICAgICAvL+agoemqjOinhOWImQogICAgICAgIHJldHVybiB0cnVlCiAgICAgIH0KCiAgICAgIC8v5LiK5Lyg5Zu+54mH5aSn5bCP5ZKM5Liq5pWw55qE6ZmQ5Yi2CiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy51cGxvYWRJbWdNYXhTaXplID0gMioxMDI0KjEwMjQgLy8yTQogICAgICB0aGlzLmVkaXRvci5jb25maWcudXBsb2FkSW1nTWF4TGVuZ3RoID0gOSAvLznlvKAKCiAgICAgIC8v5o+S5YWl5pys5Zyw5Zu+54mH77yM5a6e546w5pys5Zyw5Zu+54mH5LiK5Lyg5bm25o+S5YWl5Yiw57yW6L6R5Zmo6YeMCiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy5jdXN0b21VcGxvYWRJbWcgPSBmdW5jdGlvbihyZXN1bHRGaWxlcywgaW5zZXJ0SW1nRm4pewogICAgICAgIC8vcmVzdWx0RmlsZXM6IOebuOW9k+S6jiBpbnB1dCB0eXBlPWZpbGUg6YCJ5Lit55qE55uu5qCHCiAgICAgICAgLy9pbnNlcnRJbWdGbjog5Zue6LCD5Ye95pWw77yM6I635Y+W5Zu+54mH55qE5pyA57uI5Zyw5Z2A77yM5o+S5YWl5Yiw57yW6L6R5ZmoCiAgICAgICAgbGV0IGltZ0RhdGEgPSBuZXcgRm9ybURhdGEoKQogICAgICAgIGZvcihsZXQgaSA9IDAsIGxlbiA9IHJlc3VsdEZpbGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKXsKICAgICAgICAgIGltZ0RhdGEuYXBwZW5kKCdibG9nSWxsdXN0cmF0aW9ucycscmVzdWx0RmlsZXNbaV0pCiAgICAgICAgfQogICAgICAgIEltZ0ZpbGVTZXJ2aWNlLnVwbG9hZEltZ0ZpbGUoaW1nRGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgaWYocmVzLmRhdGEuc3RhdHVzID09PSAyMDApewogICAgICAgICAgICBsZXQgaW1nTGlzdCA9IHJlcy5kYXRhLmRhdGEuaW1nTGlzdAogICAgICAgICAgICBmb3IobGV0IGkgPSAwLCBsZW4gPSBpbWdMaXN0Lmxlbmd0aDsgaSA8IGxlbjsgIGkrKyl7CiAgICAgICAgICAgICAgaW5zZXJ0SW1nRm4oaW1nTGlzdFtpXSkKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0KCiAgICAgIC8v57KY6LS05paH5pys55qE5YaF5a655aSE55CGCiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy5wYXN0ZVRleHRIYW5kbGUgPSBmdW5jdGlvbihwYXN0ZVN0cil7CiAgICAgICAgY29uc29sZS5sb2cocGFzdGVTdHIpCiAgICAgICAgcmV0dXJuICfop6PmnpDov4flkI7nmoRwYXN0ZVN0cicKICAgICAgfQogICAgICAvL+e8lui+keWZqOWGheWuueeahOiOt+WPliDnuq/mlofmnKzjgIFodG1s44CBanNvbuagvOW8j+eahAoKICAgICAgLy/nvJbovpHlmajlhoXlrrnnmoTkv67mlLkKCiAgICAgIHRoaXMuZWRpdG9yLmNyZWF0ZSgpIC8v5oqK5a6e5L6L5Y+Y5oiQ5YWD57SgCiAgICB9CiAgfSwKICBiZWZvcmVEZXN0cm95KCl7CiAgICB0aGlzLmVkaXRvci5kZXN0cm95KCkgLy8KICB9Cn0K"},{"version":3,"sources":["Global-Editor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Global-Editor.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <el-card v-loading=\"isPublishing\" class='box-card'>\r\n      <div slot=\"header\" class=\"clearfix\">\r\n        <span>写文章</span>\r\n        <el-button style=\"float: right; padding: 3px 0\" type=\"text\"  @click='publish'>发布</el-button>\r\n      </div>\r\n      <el-row :gutter=\"200\" style=\"margin-bottom:20px\">\r\n        <el-col :span=\"4\">\r\n          <el-upload\r\n            class=\"avatar-uploader\"\r\n            :action=\"`${defaultConfig.baseApiUrl}/uploadImg`\"\r\n            :show-file-list=\"false\"\r\n            :on-success=\"handleAvatarSuccess\"\r\n            name='blogIllustrations'\r\n            >\r\n            <img v-if=\"blogData.cover\" :src=\"blogData.cover\" class=\"avatar\">\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\">封面</i>\r\n          </el-upload>\r\n        </el-col>\r\n        <el-col :span=\"20\">\r\n          <el-form :model=\"blogData\" ref='blogForm' :rules=\"rules\">\r\n            <el-form-item prop=\"title\">\r\n              <el-row>\r\n                <el-input placeholder=\"请输入文章标题\" v-model='blogData.title' clearable></el-input>\r\n              </el-row>\r\n            </el-form-item>\r\n            <el-form-item prop=\"description\">\r\n              <el-row>\r\n                <el-input placeholder=\"请输入文章简介\" v-model='blogData.description' clearable ></el-input>\r\n              </el-row>\r\n            </el-form-item>\r\n          </el-form>\r\n          <el-row>\r\n            <el-tag\r\n              :key=\"tag\"\r\n              v-for=\"tag in blogData.tags\"\r\n              closable\r\n              :disable-transitions=\"false\"\r\n              @close=\"handleClose(tag)\">\r\n              {{tag}}\r\n            </el-tag>\r\n            <el-input\r\n              class=\"input-new-tag\"\r\n              v-if=\"inputVisible\"\r\n              v-model=\"tagValue\"\r\n              ref=\"saveTagInput\"\r\n              size=\"small\"\r\n              @keyup.enter.native=\"handleInputConfirm\"\r\n              @blur=\"handleInputConfirm\"\r\n            >\r\n            </el-input>\r\n            <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInput\">+ New Tag</el-button>\r\n          </el-row>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col>\r\n          <div id=\"editor\" ref='editor'></div>\r\n        </el-col>\r\n      </el-row>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import defaultConfig from '@/config/config.default'\r\n  import Editor from 'wangeditor'\r\n  import hljs from 'highlight.js'\r\n  import ImgFileService from '@/service/ImgFileService'\r\n  import blogService from '@/service/BlogService'\r\n  export default {\r\n    name: \"GlobalEditor\",\r\n    data(){\r\n      return {\r\n        defaultConfig,\r\n        Editor,\r\n        hljs,\r\n        tagValue:'',\r\n        inputVisible:false,\r\n        editor:null,\r\n        isPublishing:false,\r\n        blogData:{\r\n          cover:null, //封面图片地址\r\n          title:'',\r\n          description:'',\r\n          tags:[],\r\n          content:''\r\n        },\r\n        rules:{\r\n          title:{required:true, message:'请输入文章标题', trigger:'blur'},\r\n          description:{required:true, message:'请输入文章简介', trigger:'blur'}\r\n        }\r\n      }\r\n    },\r\n    mounted(){\r\n     this.initEditor()\r\n    },\r\n    methods:{\r\n      publish(){\r\n        this.$refs.blogForm.validate(valid => {\r\n          if(valid){\r\n            this.blogData.content = this.editor.txt.html()\r\n            if(!this.blogData.content){\r\n              this.$message.warning('文章内容不能为空')\r\n            }else{\r\n              this.isPublishing = true\r\n              blogService.createBlog(this.blogData).then(res => {\r\n                if(res.data.status === 200){\r\n                  this.$message.success(res.data.message)\r\n                  this.$emit('publishSuccess')\r\n                }else{\r\n                  this.$message.error(res.data.message)\r\n                }\r\n              }).finally(() => {\r\n                this.isPublishing = false\r\n              })\r\n            }\r\n          }\r\n        })\r\n      },\r\n      handleAvatarSuccess(res){\r\n        this.blogData.cover = res.data.imgList[0]\r\n      },\r\n      handleClose(tag){\r\n        this.blogData.tags.splice(this.blogData.tags.indexOf(tag,1))\r\n      },\r\n      handleInputConfirm(){\r\n        if(this.tagValue){\r\n          this.blogData.tags.push(this.tagValue)\r\n        }\r\n        this.inputVisible = false\r\n        this.tagValue = ''\r\n      },\r\n      showInput(){\r\n        this.inputVisible = true\r\n        this.$nextTick( () => {\r\n          this.$refs.saveTagInput.$refs.input.focus()\r\n        })\r\n      },\r\n      initEditor(){\r\n        this.editor = new Editor(this.$refs.editor) //初始化编辑器\r\n        this.editor.highlight = hljs //实现代码编辑器里的代码高亮\r\n      \r\n        //功能菜单配置\r\n        this.editor.config.menus = [\r\n          'head',\r\n          'bold',\r\n          'fontSize',\r\n          'fontName',\r\n          'italic',\r\n          'underline',\r\n          'strikeThrough',\r\n          'indent',\r\n          'lineHeight',\r\n          'foreColor',\r\n          'backColor',\r\n          'link',\r\n          'list',\r\n          'justify',\r\n          'quote',\r\n          'emoticon',\r\n          'image',\r\n          'video',\r\n          'table',\r\n          'code',\r\n          'splitLine',\r\n          'undo',\r\n          'redo',\r\n      ]\r\n\r\n        //编辑器基本尺寸、聚焦、占位符的相关配置\r\n        this.editor.config.height = 400\r\n        this.editor.config.placeholder = '请输入文章内容'\r\n      \r\n\r\n        //字体颜色、背景色的预设值\r\n        this.editor.config.colors.push('#58a','yellow')\r\n\r\n        //字体种类\r\n        // this.editor.config.fontNames = ['黑体']\r\n\r\n        //字号预设值\r\n        this.editor.config.fontSizes = {\r\n          'x-small': { name: '10px', value: '1' },\r\n          'small': { name: '13px', value: '2' },\r\n          'normal': { name: '16px', value: '3' },\r\n          'large': { name: '18px', value: '4' },\r\n          'x-large': { name: '24px', value: '5' },\r\n          'xx-large': { name: '32px', value: '6' },\r\n          'xxx-large': { name: '48px', value: '7' },\r\n        }\r\n\r\n        //行高配置\r\n        // this.editor.config.lineHeights = ['1','1.25']\r\n\r\n        //表情包\r\n        this.editor.config.emotions = [\r\n          {\r\n            title:'收藏',\r\n            type:'image',\r\n            content:[\r\n              {\r\n                alt:'[嘿嘿]',\r\n                src:'https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1608379345609&di=130d3873ab4bfbd933ce484672cd3978&imgtype=0&src=http%3A%2F%2Fww3.sinaimg.cn%2Flarge%2F9150e4e5jw1fc6cgaj6amj203405kq2u.jpg'\r\n              },\r\n              {\r\n                alt:'[妙啊]',\r\n                src:'https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=1067150941,30006510&fm=26&gp=0.jpg'\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n\r\n        //支持的编辑语言\r\n        // this.editor.config.languageType = []\r\n\r\n        //是否支持全屏\r\n        this.editor.config.showFullScreen = true\r\n\r\n        //自定义的插入链接的内容校验\r\n        this.editor.config.linkCheck = function(text,link){\r\n          console.log(text,link)\r\n          //校验规则\r\n          return true\r\n        }\r\n\r\n        //插入网络图片的内容校验\r\n        this.editor.config.linkImgCallback = function(imgSrc){\r\n          console.log(imgSrc)\r\n          //校验规则\r\n          return true\r\n        }\r\n\r\n        //插入本地图片的校验\r\n        this.editor.config.linkImgCheck = function(imgSrc){\r\n          console.log(imgSrc)\r\n          //校验规则\r\n          return true\r\n        }\r\n\r\n        //上传图片大小和个数的限制\r\n        this.editor.config.uploadImgMaxSize = 2*1024*1024 //2M\r\n        this.editor.config.uploadImgMaxLength = 9 //9张\r\n\r\n        //插入本地图片，实现本地图片上传并插入到编辑器里\r\n        this.editor.config.customUploadImg = function(resultFiles, insertImgFn){\r\n          //resultFiles: 相当于 input type=file 选中的目标\r\n          //insertImgFn: 回调函数，获取图片的最终地址，插入到编辑器\r\n          let imgData = new FormData()\r\n          for(let i = 0, len = resultFiles.length; i < len; i++){\r\n            imgData.append('blogIllustrations',resultFiles[i])\r\n          }\r\n          ImgFileService.uploadImgFile(imgData).then(res => {\r\n            if(res.data.status === 200){\r\n              let imgList = res.data.data.imgList\r\n              for(let i = 0, len = imgList.length; i < len;  i++){\r\n                insertImgFn(imgList[i])\r\n              }\r\n            }\r\n          })\r\n        }\r\n\r\n        //粘贴文本的内容处理\r\n        this.editor.config.pasteTextHandle = function(pasteStr){\r\n          console.log(pasteStr)\r\n          return '解析过后的pasteStr'\r\n        }\r\n        //编辑器内容的获取 纯文本、html、json格式的\r\n\r\n        //编辑器内容的修改\r\n\r\n        this.editor.create() //把实例变成元素\r\n      }\r\n    },\r\n    beforeDestroy(){\r\n      this.editor.destroy() //\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  /deep/ .el-divider--horizontal{\r\n    margin:12px 0\r\n  }\r\n  /deep/ .avatar-uploader .el-upload {\r\n    border: 1px dashed #d9d9d9;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n  /deep/ .avatar-uploader .el-upload:hover {\r\n    border-color: #409EFF;\r\n  }\r\n  /deep/ .avatar-uploader-icon {\r\n    font-size: 28px;\r\n    color: #8c939d;\r\n    width: 178px;\r\n    height: 178px;\r\n    line-height: 178px;\r\n    text-align: center;\r\n  }\r\n  /deep/ .avatar {\r\n    width: 178px;\r\n    height: 178px;\r\n    display: block;\r\n  }\r\n\r\n  /deep/ .el-tag + .el-tag {\r\n    margin-left: 10px;\r\n  }\r\n  /deep/ .button-new-tag {\r\n    margin-left: 10px;\r\n    height: 32px;\r\n    line-height: 30px;\r\n    padding-top: 0;\r\n    padding-bottom: 0;\r\n  }\r\n  /deep/ .input-new-tag {\r\n    width: 90px;\r\n    margin-left: 10px;\r\n    vertical-align: bottom;\r\n  }\r\n</style>"]}]}