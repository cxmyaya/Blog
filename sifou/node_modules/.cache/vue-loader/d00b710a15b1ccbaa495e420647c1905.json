{"remainingRequest":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\丫丫\\web\\CODE\\blog\\sifou\\src\\pages\\admin\\views\\TipOff.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\src\\pages\\admin\\views\\TipOff.vue","mtime":1612169295549},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUaXBPZmZTZXJ2aWNlIGZyb20gJ0Avc2VydmljZS9UaXBPZmZTZXJ2aWNlJwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlRpcE9mZiIsCiAgZGF0YSgpewogICAgcmV0dXJuIHsKICAgICAgdGlwT2ZmRGF0YTpbXSwKICAgICAgdG90YWw6MCwKICAgICAgc2VhcmNoUGFyYW1zOnsKICAgICAgICBwYWdlTnVtOjEsCiAgICAgICAgbGltaXQ6MTAKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZCgpewogICAgdGhpcy5nZXRUaXBPZmZEYXRhKCkKICB9LAogIG1ldGhvZHM6ewogICAgZ2V0VGlwT2ZmRGF0YSgpewogICAgICBUaXBPZmZTZXJ2aWNlLmdldFRpcE9mZkRhdGEodGhpcy5zZWFyY2hQYXJhbXMpLnRoZW4ocmVzID0+IHsKICAgICAgICBpZihyZXMuZGF0YS5zdGF0dXMgPT09IDIwMCl7CiAgICAgICAgICB0aGlzLnRpcE9mZkRhdGEgPSByZXMuZGF0YS5kYXRhLnRpcE9mZkRhdGEKICAgICAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS5kYXRhLnRvdGFsCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKXsKICAgICAgdGhpcy5zZWFyY2hQYXJhbXMucGFnZU51bSA9IHZhbAogICAgICB0aGlzLmdldFRpcE9mZkRhdGEoKQogICAgfSwKICAgIGdvRGV0YWlsKHJvdyl7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvYXJ0aWNsZURldGFpbC8ke3Jvdy5ibG9nSWR9YCkKICAgIH0sCiAgICBpZ25vcmUocm93KXsKICAgICAgVGlwT2ZmU2VydmljZS5pZ25vcmVUaXBPZmYoe3RpcE9mZklkOnJvdy5faWR9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYocmVzLmRhdGEuc3RhdHVzID09PSAyMDApewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5kYXRhLm1lc3NhZ2UpCiAgICAgICAgICB0aGlzLmdldFRpcE9mZkRhdGEoKQogICAgICAgIH1lbHNlewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5pON5L2c5aSx6LSlJykKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgZGVsZXRlQXJ0aWNsZShyb3cpewogICAgICBjb25zb2xlLmxvZygxMTEpCiAgICAgIFRpcE9mZlNlcnZpY2UuZGVsZXRlVGlwT2ZmKHt0aXBPZmZJZDpyb3cuX2lkfSkudGhlbihyZXMgPT4gewogICAgICAgIGlmKHJlcy5kYXRhLnN0YXR1cyA9PT0gMjAwKXsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMuZGF0YS5tZXNzYWdlKQogICAgICAgICAgdGhpcy5nZXRUaXBPZmZEYXRhKCkKICAgICAgICB9ZWxzZXsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+aTjeS9nOWksei0pScpCiAgICAgICAgfQogICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["TipOff.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TipOff.vue","sourceRoot":"src/pages/admin/views","sourcesContent":["<template>\r\n  <div>\r\n    <el-table :data='tipOffData' size='mini'>\r\n      <el-table-column align=\"center\" prop=\"title\" label='标题' min-width=\"120\" show-overflow-tooltip></el-table-column>\r\n      <el-table-column align=\"center\" prop=\"blogId\" label='博客ID' min-width='80' show-overflow-tooltip></el-table-column>\r\n      <el-table-column align=\"center\" prop=\"cover\" label='封面' min-width='100'>\r\n        <template slot-scope='scope'>\r\n          <el-image\r\n            fit='fill'\r\n            :src='scope.row.cover'\r\n            style=\"width:100px\"\r\n          ></el-image>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" prop=\"description\" label='简介' min-width='150' show-overflow-tooltip></el-table-column>\r\n      <el-table-column align=\"center\" prop=\"reason\" label='举报原因' min-width='100' show-overflow-tooltip></el-table-column>\r\n      <el-table-column align=\"center\" label='操作' min-width=\"200\">\r\n        <template slot-scope='scope'>\r\n          <el-button type=\"primary\" size=\"mini\"  @click='goDetail(scope.row)'>查看详情</el-button>\r\n          <el-button type='success' size=\"mini\"  @click='ignore(scope.row)'>忽略举报</el-button>\r\n          <el-button type=\"danger\" size=\"mini\" @click='deleteArticle(scope.row)'>删除文章</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-pagination\r\n      layout='prev, pager, next'\r\n      :total='total'\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page.sync=\"searchParams.pageNum\"\r\n    >\r\n    </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import TipOffService from '@/service/TipOffService'\r\n  export default {\r\n    name: \"TipOff\",\r\n    data(){\r\n      return {\r\n        tipOffData:[],\r\n        total:0,\r\n        searchParams:{\r\n          pageNum:1,\r\n          limit:10\r\n        }\r\n      }\r\n    },\r\n    mounted(){\r\n      this.getTipOffData()\r\n    },\r\n    methods:{\r\n      getTipOffData(){\r\n        TipOffService.getTipOffData(this.searchParams).then(res => {\r\n          if(res.data.status === 200){\r\n            this.tipOffData = res.data.data.tipOffData\r\n            this.total = res.data.data.total\r\n          }\r\n        })\r\n      },\r\n      handleCurrentChange(val){\r\n        this.searchParams.pageNum = val\r\n        this.getTipOffData()\r\n      },\r\n      goDetail(row){\r\n        this.$router.push(`/articleDetail/${row.blogId}`)\r\n      },\r\n      ignore(row){\r\n        TipOffService.ignoreTipOff({tipOffId:row._id}).then(res => {\r\n          if(res.data.status === 200){\r\n            this.$message.success(res.data.message)\r\n            this.getTipOffData()\r\n          }else{\r\n            this.$message.error('操作失败')\r\n          }\r\n        })\r\n      },\r\n      deleteArticle(row){\r\n        console.log(111)\r\n        TipOffService.deleteTipOff({tipOffId:row._id}).then(res => {\r\n          if(res.data.status === 200){\r\n            this.$message.success(res.data.message)\r\n            this.getTipOffData()\r\n          }else{\r\n            this.$message.error('操作失败')\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  /deep/ .el-pagination{\r\n    text-align: right;\r\n  }\r\n</style>"]}]}