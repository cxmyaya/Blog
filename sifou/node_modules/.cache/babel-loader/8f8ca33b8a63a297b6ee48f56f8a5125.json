{"remainingRequest":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\babel-loader\\lib\\index.js!E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\丫丫\\web\\CODE\\blog\\sifou\\src\\components\\Global-Comment.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\src\\components\\Global-Comment.vue","mtime":1609082113020},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3RvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgQmxvZ1NlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlL0Jsb2dTZXJ2aWNlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJHbG9iYWxDb21tZW50IiwKICBwcm9wczogewogICAgYmxvZ0lkOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMAogICAgfSwKICAgIGNvbW1lbnRzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBjb21tZW50czogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkgewogICAgICAgIHRoaXMubG9jYWxDb21tZW50ID0gdGhpcy5jb21tZW50cy5zbGljZSgwKTsKICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYXJ0aWNsZUNvbW1lbnRTdHI6ICcnLAogICAgICBjb21tZW50U3RyOiAnJywKICAgICAgbG9jYWxDb21tZW50OiBbXSwKICAgICAgaXNDb21tZW50OiB0cnVlLAogICAgICB1c2VyRGF0YTogSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd1c2VyRGF0YScpKQogICAgfTsKICB9LAogIGZpbHRlcnM6IHsKICAgIHRyYW5zZm9ybVRpbWU6IGZ1bmN0aW9uIHRyYW5zZm9ybVRpbWUodGltZSkgewogICAgICB2YXIgYmxvZ0NyZWF0ZVRpbWUgPSBuZXcgRGF0ZSh0aW1lKTsKICAgICAgdmFyIGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKTsKICAgICAgdmFyIG9mZnNldFRpbWUgPSBjdXJyZW50VGltZSAtIGJsb2dDcmVhdGVUaW1lOwogICAgICB2YXIgb2Zmc2V0U1QgPSBvZmZzZXRUaW1lIC8gMTAwMDsKICAgICAgdmFyIG9mZnNldE1UID0gb2Zmc2V0U1QgLyA2MDsKICAgICAgdmFyIG9mZnNldEhUID0gb2Zmc2V0TVQgLyA2MDsKICAgICAgdmFyIG9mZnNldERUID0gb2Zmc2V0SFQgLyAyNDsKCiAgICAgIGlmIChvZmZzZXREVCA+PSAzNjUpIHsKICAgICAgICByZXR1cm4gIlx1NTNEMVx1ODg2OFx1NEU4RSAiLmNvbmNhdChNYXRoLmZsb29yKG9mZnNldERUIC8gMzY1KSwgIiBcdTVFNzRcdTRFNEJcdTUyNEQiKTsKICAgICAgfSBlbHNlIGlmIChvZmZzZXREVCA+PSAzMCkgewogICAgICAgIHJldHVybiAiXHU1M0QxXHU4ODY4XHU0RThFICIuY29uY2F0KE1hdGguZmxvb3Iob2Zmc2V0RFQgLyAzMCksICIgXHU0RTJBXHU2NzA4XHU0RTRCXHU1MjREIik7CiAgICAgIH0gZWxzZSBpZiAob2Zmc2V0RFQgPj0gNykgewogICAgICAgIHJldHVybiAiXHU1M0QxXHU4ODY4XHU0RThFICIuY29uY2F0KE1hdGguZmxvb3Iob2Zmc2V0RFQgLyA3KSwgIiBcdTU0NjhcdTRFNEJcdTUyNEQiKTsKICAgICAgfSBlbHNlIGlmIChvZmZzZXREVCA+PSAxKSB7CiAgICAgICAgcmV0dXJuICJcdTUzRDFcdTg4NjhcdTRFOEUgIi5jb25jYXQoTWF0aC5mbG9vcihvZmZzZXREVCksICIgXHU1OTI5XHU0RTRCXHU1MjREIik7CiAgICAgIH0gZWxzZSBpZiAob2Zmc2V0SFQgPj0gMSkgewogICAgICAgIHJldHVybiAiXHU1M0QxXHU4ODY4XHU0RThFICIuY29uY2F0KE1hdGguZmxvb3Iob2Zmc2V0SFQpLCAiIFx1NUMwRlx1NjVGNlx1NEU0Qlx1NTI0RCIpOwogICAgICB9IGVsc2UgaWYgKG9mZnNldE1UID49IDEpIHsKICAgICAgICByZXR1cm4gIlx1NTNEMVx1ODg2OFx1NEU4RSAiLmNvbmNhdChNYXRoLmZsb29yKG9mZnNldE1UKSwgIiBcdTUyMDZcdTk0OUZcdTRFNEJcdTUyNEQiKTsKICAgICAgfSBlbHNlIGlmIChvZmZzZXRTVCA+PSAwKSB7CiAgICAgICAgLy8gcmV0dXJuIGDlj5Hooajkuo4gJHtNYXRoLmZsb29yKG9mZnNldFNUKX0g56eS6ZKf5LmL5YmNYAogICAgICAgIHJldHVybiAn5Yia5YiaJzsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc3dpdGNoQ29tbWVudDogZnVuY3Rpb24gc3dpdGNoQ29tbWVudChjb21tZW50SXRlbSkgewogICAgICB0aGlzLmxvY2FsQ29tbWVudC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0gIT0gY29tbWVudEl0ZW0pIHsKICAgICAgICAgIGl0ZW0uaXNDb21tZW50ID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgY29tbWVudEl0ZW0uaXNDb21tZW50ID0gIWNvbW1lbnRJdGVtLmlzQ29tbWVudDsKCiAgICAgIGlmICghY29tbWVudEl0ZW0uaXNDb21tZW50KSB7CiAgICAgICAgdGhpcy5pc0NvbW1lbnQgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaXNDb21tZW50ID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBjYW5jZWxDb21tZW50OiBmdW5jdGlvbiBjYW5jZWxDb21tZW50KHRhcmdldCwgdHlwZSkgewogICAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgICBjYXNlICdmYXRoZXInOgogICAgICAgICAgdGhpcy5hcnRpY2xlQ29tbWVudFN0ciA9ICcnOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJ3Nvbic6CiAgICAgICAgICB0aGlzLmNvbW1lbnRTdHIgPSAnJzsKICAgICAgICAgIHRhcmdldC5pc0NvbW1lbnQgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuaXNDb21tZW50ID0gdHJ1ZTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9LAogICAgYWRkQ29tbWVudDogZnVuY3Rpb24gYWRkQ29tbWVudCh0YXJnZXQsIHR5cGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBjb21tZW50RGF0YSA9IHsKICAgICAgICBmYXRoZXJJZDogJycsCiAgICAgICAgYmxvZ0lkOiB0aGlzLmJsb2dJZCwKICAgICAgICBjb21tZW50OiB7fQogICAgICB9OwoKICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgY2FzZSAnZmF0aGVyJzoKICAgICAgICAgIGNvbW1lbnREYXRhLmNvbW1lbnQgPSB7CiAgICAgICAgICAgIHVzZXJEYXRhOiB7CiAgICAgICAgICAgICAgdXNlck5hbWU6IHRoaXMudXNlckRhdGEudXNlck5hbWUsCiAgICAgICAgICAgICAgYXZhdGFyOiB0aGlzLnVzZXJEYXRhLmF2YXRhcgogICAgICAgICAgICB9LAogICAgICAgICAgICBjb250ZW50OiB0aGlzLmFydGljbGVDb21tZW50U3RyLAogICAgICAgICAgICBpc0NvbW1lbnQ6IGZhbHNlLAogICAgICAgICAgICBjb21tZW50czogW10KICAgICAgICAgIH07CiAgICAgICAgICB0aGlzLmFydGljbGVDb21tZW50U3RyID0gJyc7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnc29uJzoKICAgICAgICAgIGNvbW1lbnREYXRhLmZhdGhlcklkID0gdGFyZ2V0LmNvbW1lbnRJZDsKICAgICAgICAgIGNvbW1lbnREYXRhLmNvbW1lbnQgPSB7CiAgICAgICAgICAgIHVzZXJEYXRhOiB7CiAgICAgICAgICAgICAgdXNlck5hbWU6IHRoaXMudXNlckRhdGEudXNlck5hbWUsCiAgICAgICAgICAgICAgYXZhdGFyOiB0aGlzLnVzZXJEYXRhLmF2YXRhcgogICAgICAgICAgICB9LAogICAgICAgICAgICBjb250ZW50OiB0aGlzLmNvbW1lbnRTdHIKICAgICAgICAgIH07CiAgICAgICAgICB0aGlzLmNvbW1lbnRTdHIgPSAnJzsKICAgICAgICAgIHRhcmdldC5pc0NvbW1lbnQgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuaXNDb21tZW50ID0gdHJ1ZTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICBCbG9nU2VydmljZS5jcmVhdGVCbG9nQ29tbWVudChjb21tZW50RGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgICAgICAgY2FzZSAnZmF0aGVyJzoKICAgICAgICAgICAgICB0YXJnZXQucHVzaChyZXMuZGF0YS5kYXRhLmNvbW1lbnREYXRhKTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgJ3Nvbic6CiAgICAgICAgICAgICAgdGFyZ2V0LmNvbW1lbnRzLnB1c2gocmVzLmRhdGEuZGF0YS5jb21tZW50RGF0YSk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMuZGF0YS5tZXNzYWdlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyKHJlcy5tZXNzYWdlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Global-Comment.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <div\r\n      v-for='(commentItem, index) in localComment'\r\n      :key='index'\r\n      class=\"comment-card\"\r\n      style=\"margin-bottom: 20px;\"\r\n    >\r\n      <el-row :gutter=\"10\" >\r\n        <el-col :span=\"2\">\r\n          <el-avatar :src='commentItem.userData.avatar' size='large'></el-avatar>\r\n        </el-col>\r\n        <el-col :span=\"6\" style=\"font-size: 12px;\">\r\n          <span>{{commentItem.userData.userName}}</span>\r\n          <br>\r\n          <span>{{commentItem.lastModified | transformTime}}</span>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"24\" style=\"text-indent:2em;\">\r\n          {{commentItem.content}}\r\n        </el-col>\r\n        <el-col :span=\"24\" style=\"border-left:2px solid #ccc\">\r\n          <div\r\n            v-for='(sonCommentItem, index) in commentItem.comments'\r\n            :key='index'\r\n            style=\"margin: 20px; border-bottom: 1px dashed #ccc;\"\r\n          >\r\n            <el-row :gutter=\"10\" >\r\n              <el-col :span=\"2\">\r\n                <el-avatar :src='sonCommentItem.userData.avatar'  size='large'></el-avatar>\r\n              </el-col>\r\n              <el-col :span=\"6\" style=\"color:#409EFF;font-size: 12px;\">\r\n                <span>{{sonCommentItem.userData.userName}}</span>\r\n                <br>\r\n                <span>{{sonCommentItem.lastModified | transformTime}}</span>\r\n              </el-col>\r\n              <el-col :span=\"16\" style=\"text-indent:2em;\">\r\n                {{sonCommentItem.content}}\r\n              </el-col>\r\n            </el-row>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"6\">\r\n          <el-button type=\"text\" icon=\"el-icon-s-comment\" @click='switchComment(commentItem)'>回复</el-button>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter='10' v-if='commentItem.isComment'>\r\n        <el-col :span=\"24\">\r\n          <el-input v-model='commentStr' placeholder=\"说点什么吧~\"></el-input>\r\n        </el-col>\r\n        <el-col :span=\"24\" style=\"text-align: right; margin-top: 10px;\">\r\n          <el-button type='primary' size=\"mini\" @click='cancelComment(commentItem,\"son\")'>取消</el-button>\r\n          <el-button type='primary' size=\"mini\" @click='addComment(commentItem,\"son\")'>回复</el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n    <el-row :gutter='10' v-if='isComment'>\r\n      <el-col :span=\"24\">\r\n        <el-input v-model='articleCommentStr' placeholder=\"说点什么吧~\"></el-input>\r\n      </el-col>\r\n      <el-col :span=\"24\" style=\"text-align: right; margin-top: 10px;\">\r\n        <el-button type='primary' size=\"mini\" @click='cancelComment(localComment,\"father\")'>取消</el-button>\r\n        <el-button type='primary' size=\"mini\" @click='addComment(localComment,\"father\")'>回复</el-button>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import BlogService from '@/service/BlogService'\r\n  export default {\r\n    name: \"GlobalComment\",\r\n    props:{\r\n      blogId:{\r\n        type:Number,\r\n        default:0\r\n      },\r\n      comments:{\r\n        type:Array,\r\n        default(){\r\n          return []\r\n        }\r\n      }\r\n    },\r\n    watch:{\r\n      comments:{\r\n        handler(){\r\n          this.localComment = this.comments.slice(0)\r\n        },\r\n        immediate:true\r\n      }\r\n    },\r\n    data(){\r\n      return {\r\n        articleCommentStr:'',\r\n        commentStr:'',\r\n        localComment:[],\r\n        isComment:true,\r\n        userData:JSON.parse(sessionStorage.getItem('userData')),\r\n\r\n      }\r\n    },\r\n    filters:{\r\n      transformTime(time){\r\n        let blogCreateTime = new Date(time)\r\n        let currentTime = new Date()\r\n        let offsetTime = currentTime - blogCreateTime\r\n        let offsetST = offsetTime / 1000\r\n        let offsetMT = offsetST / 60\r\n        let offsetHT = offsetMT / 60\r\n        let offsetDT = offsetHT / 24\r\n        if(offsetDT >= 365){\r\n          return `发表于 ${Math.floor(offsetDT / 365)} 年之前`\r\n        }else if(offsetDT >= 30){\r\n          return `发表于 ${Math.floor(offsetDT / 30)} 个月之前`\r\n        }else if(offsetDT >= 7){\r\n          return `发表于 ${Math.floor(offsetDT / 7)} 周之前`\r\n        }else if(offsetDT >= 1){\r\n          return `发表于 ${Math.floor(offsetDT)} 天之前`\r\n        }else if(offsetHT >= 1){\r\n          return `发表于 ${Math.floor(offsetHT)} 小时之前`\r\n        }\r\n        else if(offsetMT >= 1){\r\n          return `发表于 ${Math.floor(offsetMT)} 分钟之前`\r\n        }\r\n        else if(offsetST >= 0){\r\n          // return `发表于 ${Math.floor(offsetST)} 秒钟之前`\r\n          return '刚刚'\r\n        }\r\n      }\r\n    },\r\n    methods:{\r\n      switchComment(commentItem){\r\n        this.localComment.forEach(item => {\r\n          if(item != commentItem){\r\n            item.isComment = false\r\n          }\r\n        })\r\n        commentItem.isComment = !commentItem.isComment\r\n          if(!commentItem.isComment){\r\n            this.isComment = true\r\n          }else{\r\n            this.isComment = false\r\n          }\r\n      },\r\n      cancelComment(target,type){\r\n        switch(type){\r\n          case 'father':\r\n            this.articleCommentStr = ''\r\n            break;\r\n          case 'son':\r\n            this.commentStr = ''\r\n            target.isComment = false\r\n            this.isComment = true\r\n            break;\r\n        }\r\n      },\r\n      addComment(target, type){\r\n        let commentData = {\r\n          fatherId:'',\r\n          blogId:this.blogId,\r\n          comment:{}\r\n        }\r\n        switch(type){\r\n          case 'father':\r\n            commentData.comment = {\r\n              userData:{\r\n                userName:this.userData.userName,\r\n                avatar:this.userData.avatar\r\n              },\r\n              content:this.articleCommentStr,\r\n              isComment:false,\r\n              comments:[]\r\n            }\r\n            this.articleCommentStr = ''\r\n            break;\r\n          case 'son':\r\n            commentData.fatherId = target.commentId\r\n            commentData.comment = {\r\n              userData:{\r\n                userName:this.userData.userName,\r\n                avatar:this.userData.avatar\r\n              },\r\n              content:this.commentStr,\r\n            }\r\n            this.commentStr = ''\r\n            target.isComment = false\r\n            this.isComment = true\r\n            break;\r\n        }\r\n        BlogService.createBlogComment(commentData).then(res => {\r\n          if(res.data.status === 200){\r\n            switch(type){\r\n              case 'father':\r\n                target.push(res.data.data.commentData)\r\n                break;\r\n              case 'son':\r\n                target.comments.push(res.data.data.commentData)\r\n                break;\r\n            }\r\n            this.$message.success(res.data.message)\r\n          }else{\r\n            this.$message.err(res.message)\r\n          }\r\n        })\r\n\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .comment-card{\r\n    padding:20px;\r\n    box-shadow: 0 2px 4px rgba(0,0,0,.5);\r\n  }\r\n</style>"],"sourceRoot":"src/components"}]}