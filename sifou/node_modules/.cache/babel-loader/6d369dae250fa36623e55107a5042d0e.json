{"remainingRequest":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\thread-loader\\dist\\cjs.js!E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\babel-loader\\lib\\index.js!E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\丫丫\\web\\CODE\\blog\\sifou\\src\\pages\\login\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\src\\pages\\login\\App.vue","mtime":1610954528394},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBkZWZhdWx0Q29uZmlnIGZyb20gJ0AvY29uZmlnL2NvbmZpZy5kZWZhdWx0JzsKaW1wb3J0IEF1dGhvclNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlL0F1dGhvclNlcnZpY2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB2YXIgY2hlY2tQYXNzd29yZCA9IGZ1bmN0aW9uIGNoZWNrUGFzc3dvcmQocnVsZSwgdmFsdWUsIGNiKSB7CiAgICAgIGlmIChfdGhpcy5yZWdpc3RlckZvcm0uY29uZmlybVBhc3N3b3JkKSB7CiAgICAgICAgX3RoaXMuJHJlZnMucmVnaXN0ZXJGb3JtLnZhbGlkYXRlRmllbGQoJ2NoZWNrU2VjUGFzc3dvcmQnKTsKICAgICAgfQoKICAgICAgY2IoKTsKICAgIH07CgogICAgdmFyIGNoZWNrU2VjUGFzc3dvcmQgPSBmdW5jdGlvbiBjaGVja1NlY1Bhc3N3b3JkKHJ1bGUsIHZhbHVlLCBjYikgewogICAgICBpZiAodmFsdWUgIT09IF90aGlzLnJlZ2lzdGVyRm9ybS5wYXNzd29yZCkgewogICAgICAgIGNiKG5ldyBFcnJvcign5Lik5qyh5a+G56CB6L6T5YWl5LiN5LiA6Ie0JykpOwogICAgICB9CgogICAgICBjYigpOwogICAgfTsKCiAgICByZXR1cm4gewogICAgICBkZWZhdWx0Q29uZmlnOiBkZWZhdWx0Q29uZmlnLAogICAgICBpc0xvZ2luOiB0cnVlLAogICAgICByZWdpc3RlckZvcm06IHsKICAgICAgICBhdmF0YXI6ICcnLAogICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgY29uZmlybVBhc3N3b3JkOiAnJwogICAgICB9LAogICAgICBsb2dpbkZvcm06IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgdXNlcm5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXnlKjmiLflkI0nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwgewogICAgICAgICAgbWluOiA2LAogICAgICAgICAgbWF4OiAxMCwKICAgICAgICAgIG1lc3NhZ2U6ICfnlKjmiLflkI3plb/luqbkuLo2fjEw5Liq5a2X56ym5LmL6Ze0JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5a+G56CBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogNiwKICAgICAgICAgIG1heDogMTAsCiAgICAgICAgICBtZXNzYWdlOiAn5a+G56CB6ZW/5bqm5Li6Nn4xMOS4quWtl+espuS5i+mXtCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICB2YWxpZGF0b3I6IGNoZWNrUGFzc3dvcmQsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBjb25maXJtUGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7flho3mrKHovpPlhaXlr4bnoIEnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwgewogICAgICAgICAgdmFsaWRhdG9yOiBjaGVja1NlY1Bhc3N3b3JkLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgYXZhdGFyVXJsOiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN3aXRjaFN0YXR1czogZnVuY3Rpb24gc3dpdGNoU3RhdHVzKGZvcm1OYW1lKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKTsKICAgICAgfSk7CiAgICAgIHRoaXMuaXNMb2dpbiA9ICF0aGlzLmlzTG9naW47CiAgICB9LAogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnJlc2V0RmllbGRzKCk7CiAgICB9LAogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybShmb3JtTmFtZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKGZvcm1OYW1lID09PSAnbG9naW5Gb3JtJykgewogICAgICAgICAgICBBdXRob3JTZXJ2aWNlLmxvZ2luVXNlcihfdGhpczMubG9naW5Gb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5kYXRhLm1lc3NhZ2UpOwoKICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ0F1dGhvcml6YXRpb24nKTsKICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ0F1dGhvcml6YXRpb24nLCByZXMuaGVhZGVycy5hdXRob3JpemF0aW9uKTsgLy/kv53lrZjku6TniYwKCiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgiIi5jb25jYXQoZGVmYXVsdENvbmZpZy5ob3N0bmFtZSwgIi9ob21lLmh0bWwiKSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tZXNzYWdlIHx8ICfnmbvlvZXlpLHotKUnKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgQXV0aG9yU2VydmljZS5yZWdpc3RlclVzZXIoX3RoaXMzLnJlZ2lzdGVyRm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMuZGF0YS5tZXNzYWdlKTsKCiAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCdBdXRob3JpemF0aW9uJyk7CiAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdBdXRob3JpemF0aW9uJywgcmVzLmhlYWRlcnMuYXV0aG9yaXphdGlvbik7IC8v5L+d5a2Y5Luk54mMCgogICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoIiIuY29uY2F0KGRlZmF1bHRDb25maWcuaG9zdG5hbWUsICIvbG9naW4uaHRtbCIpKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmVycm9yKCfms6jlhozlpLHotKUnKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlQXZhdGFyU3VjY2VzczogZnVuY3Rpb24gaGFuZGxlQXZhdGFyU3VjY2VzcyhyZXMsIGZpbGUpIHsKICAgICAgY29uc29sZS5sb2cocmVzLCBmaWxlKTsKICAgICAgdGhpcy5yZWdpc3RlckZvcm0uYXZhdGFyID0gcmVzLmRhdGEuaW1nTGlzdFswXTsgLy8gdGhpcy5hdmF0YXJVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUucmF3KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["App.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div style=\"width:100vw;height: 100vh; background-color: rgb(226,229,248);\">\r\n    <el-row  style=\"position:relative;width:100%;height: 100%;\">\r\n      <el-col :span=\"10\" class=\"col-class\">\r\n        <div class=\"login-wrapper\" v-if='isLogin' :key='1'>\r\n          <el-form :model=\"loginForm\" ref='loginForm' :rules=\"rules\" size=\"mini\" label-width=\"65px\">\r\n            <el-form-item label=\"用户名\" prop=\"username\">\r\n              <el-input v-model=\"loginForm.username\" clearable ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"密码\" prop=\"password\">\r\n              <el-input v-model=\"loginForm.password\" clearable type=\"password\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item style=\"text-align: end;\">\r\n              <el-button type=\"primary\" plain @click=\"reset('loginForm')\">重置</el-button>\r\n              <el-button type=\"primary\" @click='submitForm(\"loginForm\")'>登录</el-button>\r\n            </el-form-item>\r\n            <el-form-item style=\"text-align: end;\">\r\n              <span style=\"color:#606266\">没有账号？点击</span><el-button style=\"font-size: 14px;\" type='text' @click='switchStatus(\"loginForm\")' size=\"mini\">注册</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n          \r\n        </div>\r\n\r\n        <div class=\"register-wrapper\" v-else :key='2'>\r\n          <el-form :model=\"registerForm\" ref='registerForm' :rules=\"rules\" size=\"mini\" label-width=\"80px\">\r\n            <el-form-item label=\"头像\" prop=\"avatar\">\r\n              <el-upload\r\n                class=\"avatar-uploader\"\r\n                :action=\"`${defaultConfig.baseApiUrl}/uploadImg`\"\r\n                :show-file-list=\"false\"\r\n                :on-success=\"handleAvatarSuccess\"\r\n                name='blogIllustrations'\r\n                >\r\n                <img v-if=\"registerForm.avatar\" :src=\"registerForm.avatar\" class=\"avatar\">\r\n                <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n              </el-upload>\r\n            </el-form-item>\r\n            <el-form-item label=\"用户名\" prop=\"username\">\r\n              <el-input v-model=\"registerForm.username\" clearable ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"密码\" prop=\"password\">\r\n              <el-input v-model=\"registerForm.password\" clearable type=\"password\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"确认密码\" prop=\"confirmPassword\">\r\n              <el-input v-model=\"registerForm.confirmPassword\" clearable type=\"password\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item style=\"text-align: end;\">\r\n              <el-button type=\"primary\" plain @click=\"reset('registerForm')\">重置</el-button>\r\n              <el-button type=\"primary\" @click='submitForm(\"registerForm\")'>注册</el-button>\r\n            </el-form-item>\r\n            <el-form-item style=\"text-align: end;\">\r\n              <span style=\"color:#606266\">有账号？点击</span><el-button style=\"font-size: 14px;\" type='text' @click='switchStatus(\"registerForm\")' size=\"mini\">登录</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n      </el-col>\r\n      <el-col :span=\"14\" class=\"bg-img\">\r\n\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import defaultConfig from '@/config/config.default'\r\n  import AuthorService from '@/service/AuthorService'\r\n  export default {\r\n    name: \"Login\",\r\n    data(){\r\n      let checkPassword = (rule, value, cb) => {\r\n        if(this.registerForm.confirmPassword){\r\n          this.$refs.registerForm.validateField('checkSecPassword')\r\n        }\r\n        cb()\r\n      }\r\n      let checkSecPassword = (rule, value, cb) => {\r\n        if(value !== this.registerForm.password){\r\n          cb(new Error('两次密码输入不一致'))\r\n        }\r\n        cb()\r\n      }\r\n      return {\r\n        defaultConfig,\r\n        isLogin:true,\r\n        registerForm:{\r\n          avatar:'',\r\n          username:'',\r\n          password:'',\r\n          confirmPassword:''\r\n        },\r\n        loginForm:{\r\n          username:'',\r\n          password:''\r\n        },\r\n        rules:{\r\n          username:[{\r\n            required:true,\r\n            message:'请输入用户名',\r\n            trigger:'blur'\r\n          },{\r\n            min:6,\r\n            max:10,\r\n            message:'用户名长度为6~10个字符之间',\r\n            trigger:'blur'\r\n          }],\r\n          password:[{\r\n            required:true,\r\n            message:'请输入密码',\r\n            trigger:'blur'\r\n          },{\r\n            min:6,\r\n            max:10,\r\n            message:'密码长度为6~10个字符之间',\r\n            trigger:'blur'\r\n          },{\r\n            validator:checkPassword,\r\n            trigger:'blur'\r\n          }],\r\n          confirmPassword:[{\r\n            required:true,\r\n            message:'请再次输入密码',\r\n            trigger:'blur'\r\n          },{\r\n            validator:checkSecPassword,\r\n            trigger:'blur'\r\n          }],\r\n        },\r\n        avatarUrl:'',\r\n      }\r\n    },\r\n    methods:{\r\n      switchStatus(formName){\r\n        this.$nextTick(() => {\r\n          this.$refs[formName].resetFields()\r\n        })\r\n        this.isLogin = !this.isLogin\r\n      },\r\n      reset(formName){\r\n        this.$refs[formName].resetFields()\r\n      },\r\n      submitForm(formName){\r\n        this.$refs[formName].validate(valid => {\r\n          if(valid){\r\n            if(formName === 'loginForm'){\r\n              AuthorService.loginUser(this.loginForm).then(res => {\r\n                if(res.data.status === 200){\r\n                  this.$message.success(res.data.message)\r\n                  sessionStorage.removeItem('Authorization')\r\n                  sessionStorage.setItem('Authorization',res.headers.authorization) //保存令牌\r\n                  window.location.replace(`${defaultConfig.hostname}/home.html`)\r\n                }else{\r\n                  this.$message.error(res.data.message || '登录失败')\r\n                }\r\n              })\r\n            }else{\r\n              AuthorService.registerUser(this.registerForm).then(res => {\r\n                if(res.data.status === 200){\r\n                  this.$message.success(res.data.message)\r\n                  sessionStorage.removeItem('Authorization')\r\n                  sessionStorage.setItem('Authorization',res.headers.authorization) //保存令牌\r\n                  window.location.replace(`${defaultConfig.hostname}/login.html`)\r\n                }else{\r\n                  this.$message.error('注册失败')\r\n                }\r\n              })\r\n            }\r\n          }\r\n        })\r\n        \r\n      },\r\n      handleAvatarSuccess(res, file) {\r\n        console.log(res,file)\r\n        this.registerForm.avatar = res.data.imgList[0]\r\n        // this.avatarUrl = URL.createObjectURL(file.raw);\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .bg-img{\r\n    position: absolute;\r\n    right:0;\r\n    height: 100%;\r\n    background-image: url('./assets/bg.jpg');\r\n    background-size: cover;\r\n    background-position: center;\r\n    box-shadow: 10px 10px 10px 8px inset rgb(226 229 248);\r\n  }\r\n  .login-wrapper,\r\n  .register-wrapper{\r\n    width: 70%;\r\n    margin: 100px auto;\r\n  }\r\n  /deep/ .avatar-uploader .el-upload {\r\n    border: 2px dashed #fff;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n  /deep/ .avatar-uploader .el-upload:hover {\r\n    border-color: #409EFF;\r\n  }\r\n  .avatar-uploader-icon {\r\n    font-size: 28px;\r\n    color: #fff;\r\n    width: 150px;\r\n    height: 150px;\r\n    line-height: 150px;\r\n    text-align: center;\r\n  }\r\n  .avatar {\r\n    width: 150px;\r\n    height: 150px;\r\n    display: block;\r\n  }\r\n  .col-class{\r\n    position: absolute;\r\n    top: 50%;\r\n    margin: 0 auto;\r\n    transform: translateY(-50%);\r\n  }\r\n</style>"],"sourceRoot":"src/pages/login"}]}