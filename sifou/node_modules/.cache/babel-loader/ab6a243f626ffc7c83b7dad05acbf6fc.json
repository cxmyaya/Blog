{"remainingRequest":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\thread-loader\\dist\\cjs.js!E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\babel-loader\\lib\\index.js!E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\丫丫\\web\\CODE\\blog\\sifou\\src\\pages\\user\\components\\UserSetting.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\src\\pages\\user\\components\\UserSetting.vue","mtime":1610673155776},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\丫丫\\web\\CODE\\blog\\sifou\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGRlZmF1bHRDb25maWcgZnJvbSAnQC9jb25maWcvY29uZmlnLmRlZmF1bHQnOwppbXBvcnQgQXV0aG9yU2VydmljZSBmcm9tICdAL3NlcnZpY2UvQXV0aG9yU2VydmljZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVXNlclNldHRpbmciLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtRGF0YTogewogICAgICAgIGF2YXRhcjogIiIsCiAgICAgICAgaW50cm9kdWN0aW9uOiAiIgogICAgICB9LAogICAgICB1c2VyU2V0dGluZ0RpYWxvZzogZmFsc2UsCiAgICAgIGRlZmF1bHRDb25maWc6IGRlZmF1bHRDb25maWcKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVBdmF0YXJTdWNjZXNzOiBmdW5jdGlvbiBoYW5kbGVBdmF0YXJTdWNjZXNzKHJlcykgewogICAgICB0aGlzLmZvcm1EYXRhLmF2YXRhciA9IHJlcy5kYXRhLmltZ0xpc3RbMF07CiAgICB9LAogICAgcmVzZXRGb3JtOiBmdW5jdGlvbiByZXNldEZvcm0oKSB7CiAgICAgIHRoaXMudXNlclNldHRpbmdEaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy4kcmVmcy5mb3JtLnJlc2V0RmllbGRzKCk7CiAgICB9LAogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIEF1dGhvclNlcnZpY2UudXBkYXRlVXNlckluZm8odGhpcy5mb3JtRGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5kYXRhLm1lc3NhZ2UpOwoKICAgICAgICAgIF90aGlzLiRlbWl0KCd1cGRhdGVVc2VyRGF0YScsIF90aGlzLmZvcm1EYXRhKTsKCiAgICAgICAgICBfdGhpcy51c2VyU2V0dGluZ0RpYWxvZyA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tZXNzYWdlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldERhdGE6IGZ1bmN0aW9uIGdldERhdGEoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgQXV0aG9yU2VydmljZS5nZXRVc2VySW5mbygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgX3RoaXMyLmZvcm1EYXRhLmF2YXRhciA9IHJlcy5kYXRhLmRhdGEuYXZhdGFyOwogICAgICAgICAgX3RoaXMyLmZvcm1EYXRhLmludHJvZHVjdGlvbiA9IHJlcy5kYXRhLmRhdGEuaW50cm9kdWN0aW9uOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["UserSetting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,OAAA,aAAA,MAAA,yBAAA;AACA,OAAA,aAAA,MAAA,yBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,MAAA,EAAA,EADA;AAEA,QAAA,YAAA,EAAA;AAFA,OADA;AAKA,MAAA,iBAAA,EAAA,KALA;AAMA,MAAA,aAAA,EAAA;AANA,KAAA;AAQA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,mBADA,+BACA,GADA,EACA;AACA,WAAA,QAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA,CAAA,OAAA,CAAA,CAAA,CAAA;AACA,KAHA;AAIA,IAAA,SAJA,uBAIA;AACA,WAAA,iBAAA,GAAA,KAAA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,WAAA;AACA,KAPA;AAQA,IAAA,UARA,wBAQA;AAAA;;AACA,MAAA,aAAA,CAAA,cAAA,CAAA,KAAA,QAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,OAAA;;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,gBAAA,EAAA,KAAA,CAAA,QAAA;;AACA,UAAA,KAAA,CAAA,iBAAA,GAAA,KAAA;AACA,SAJA,MAIA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,IAAA,CAAA,OAAA;AACA;AACA,OARA;AASA,KAlBA;AAmBA,IAAA,OAnBA,qBAmBA;AAAA;;AACA,MAAA,aAAA,CAAA,WAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,YAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,YAAA;AACA;AACA,OALA;AAMA;AA1BA;AAZA,CAAA","sourcesContent":["<template>\r\n  <el-dialog title=\"更改用户信息\"  :visible.sync=\"userSettingDialog\" :close-on-click-modal=\"false\">\r\n    <el-form :model=\"formData\" label-width=\"80px\" ref='form'>\r\n      <el-form-item label='头像' prop=\"avatar\" ref='form'>\r\n        <el-upload\r\n          class=\"avatar-uploader\"\r\n          :action=\"`${defaultConfig.baseApiUrl}/uploadImg`\"\r\n          :show-file-list=\"false\"\r\n          :on-success=\"handleAvatarSuccess\"\r\n          name='blogIllustrations'\r\n          >\r\n        <img v-if=\"formData.avatar\" :src=\"formData.avatar\" class=\"avatar\">\r\n        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n      </el-upload>\r\n      </el-form-item>\r\n      <el-form-item label='用户简介' prop=\"introduction\">\r\n        <el-input v-model='formData.introduction' clearable placeholder=\"请输入\" style=\"width:100%\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"resetForm\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\n  import defaultConfig from '@/config/config.default'\r\n  import AuthorService from '@/service/AuthorService'\r\n  export default {\r\n    name: \"UserSetting\",\r\n    data(){\r\n      return {\r\n        formData:{\r\n          avatar:\"\",\r\n          introduction:\"\"\r\n        },\r\n        userSettingDialog:false,\r\n        defaultConfig\r\n      }\r\n    },\r\n    methods:{\r\n      handleAvatarSuccess(res){\r\n        this.formData.avatar = res.data.imgList[0]\r\n      },\r\n      resetForm(){\r\n        this.userSettingDialog = false\r\n        this.$refs.form.resetFields()\r\n      },\r\n      submitForm(){\r\n        AuthorService.updateUserInfo(this.formData).then(res => {\r\n          if(res.data.status === 200){\r\n            this.$message.success(res.data.message)\r\n            this.$emit('updateUserData',this.formData)\r\n            this.userSettingDialog = false\r\n          }else {\r\n            this.$message.error(res.data.message)\r\n          }\r\n        })\r\n      },\r\n      getData(){\r\n        AuthorService.getUserInfo().then(res => {\r\n          if(res.data.status === 200){\r\n            this.formData.avatar = res.data.data.avatar\r\n            this.formData.introduction = res.data.data.introduction\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n /deep/ .avatar-uploader .el-upload {\r\n    border: 1px dashed #d9d9d9;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n  /deep/ .avatar-uploader .el-upload:hover {\r\n    border-color: #409EFF;\r\n  }\r\n .avatar-uploader-icon {\r\n    font-size: 28px;\r\n    color: #8c939d;\r\n    width: 178px;\r\n    height: 178px;\r\n    line-height: 178px;\r\n    text-align: center;\r\n  }\r\n  .avatar {\r\n    width: 178px;\r\n    height: 178px;\r\n    display: block;\r\n  }\r\n</style>"],"sourceRoot":"src/pages/user/components"}]}